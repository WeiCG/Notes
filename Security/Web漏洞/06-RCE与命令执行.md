# 命令执行漏洞

## 概述

应用程序有时会调用一些执行系统命令的函数，当攻击者能够控制这些函数的参数时，就可以将恶意的系统命令拼接到正常命令中，从而造成命令执行攻击

### Windows支持的管道

- `|` - 直接执行后面的语句
- `||` - 如果前面的语句执行出错，则执行后面的语句
- `&` - 如果前面的语句为假则直接执行后面的语句
- `&&` - 如果前面的语句为假则直接报错，也不执行后面的语句

### Linux支持的管道

- `;` - 执行完前面的语句再执行后面的
- `|` - 显示后面语句的执行结果
- `||` - 如果前面的语句执行出错，则执行后面的语句
- `&` - 如果前面的语句为假则直接执行后面的语句
- `&&` - 如果前面的语句为假则直接报错，也不执行后面的语句

## 解决方案

- 客户端提交的变量在进入执行命令函数前要做好过滤和检测
- 在使用动态函数之前，确保使用的函数是指定的函数之一
- 对PHP语言来说，不能完全控制的危险函数最好不要使用